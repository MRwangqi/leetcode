{
	"titleSlug": "range-sum-of-bst",
	"slug": "er-cha-sou-suo-shu-de-fan-wei-he-by-leet-rpq7",
	"url": "https://leetcode-cn.com/problems/range-sum-of-bst/solution/er-cha-sou-suo-shu-de-fan-wei-he-by-leet-rpq7/",
	"content": "#### æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢\n\n**æ€è·¯**\n\næŒ‰æ·±åº¦ä¼˜å…ˆæœç´¢çš„é¡ºåºè®¡ç®—èŒƒå›´å’Œã€‚è®°å½“å‰å­æ ‘æ ¹èŠ‚ç‚¹ä¸º $\\textit{root}$ï¼Œåˆ†ä»¥ä¸‹å››ç§æƒ…å†µè®¨è®ºï¼š\n\n1. $\\textit{root}$ èŠ‚ç‚¹ä¸ºç©º\n\n   è¿”å› $0$ã€‚\n\n2. $\\textit{root}$ èŠ‚ç‚¹çš„å€¼å¤§äº $\\textit{high}$\n\n   ç”±äºäºŒå‰æœç´¢æ ‘å³å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå³å‡å¤§äº $\\textit{high}$ï¼Œæ•…æ— éœ€è€ƒè™‘å³å­æ ‘ï¼Œè¿”å›å·¦å­æ ‘çš„èŒƒå›´å’Œã€‚\n\n3. $\\textit{root}$ èŠ‚ç‚¹çš„å€¼å°äº $\\textit{low}$\n\n   ç”±äºäºŒå‰æœç´¢æ ‘å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å°äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå³å‡å°äº $\\textit{low}$ï¼Œæ•…æ— éœ€è€ƒè™‘å·¦å­æ ‘ï¼Œè¿”å›å³å­æ ‘çš„èŒƒå›´å’Œã€‚\n\n4. $\\textit{root}$ èŠ‚ç‚¹çš„å€¼åœ¨ $[\\textit{low},\\textit{high}]$ èŒƒå›´å†…\n\n   æ­¤æ—¶åº”è¿”å› $\\textit{root}$ èŠ‚ç‚¹çš„å€¼ã€å·¦å­æ ‘çš„èŒƒå›´å’Œã€å³å­æ ‘çš„èŒƒå›´å’Œè¿™ä¸‰è€…ä¹‹å’Œã€‚\n\n**ä»£ç **\n\n```C++ [sol1-C++]\nclass Solution {\npublic:\n    int rangeSumBST(TreeNode *root, int low, int high) {\n        if (root == nullptr) {\n            return 0;\n        }\n        if (root->val > high) {\n            return rangeSumBST(root->left, low, high);\n        }\n        if (root->val < low) {\n            return rangeSumBST(root->right, low, high);\n        }\n        return root->val + rangeSumBST(root->left, low, high) + rangeSumBST(root->right, low, high);\n    }\n};\n```\n\n```Java [sol1-Java]\nclass Solution {\n    public int rangeSumBST(TreeNode root, int low, int high) {\n        if (root == null) {\n            return 0;\n        }\n        if (root.val > high) {\n            return rangeSumBST(root.left, low, high);\n        }\n        if (root.val < low) {\n            return rangeSumBST(root.right, low, high);\n        }\n        return root.val + rangeSumBST(root.left, low, high) + rangeSumBST(root.right, low, high);\n    }\n}\n```\n\n```go [sol1-Golang]\nfunc rangeSumBST(root *TreeNode, low, high int) int {\n    if root == nil {\n        return 0\n    }\n    if root.Val > high {\n        return rangeSumBST(root.Left, low, high)\n    }\n    if root.Val < low {\n        return rangeSumBST(root.Right, low, high)\n    }\n    return root.Val + rangeSumBST(root.Left, low, high) + rangeSumBST(root.Right, low, high)\n}\n```\n\n```JavaScript [sol1-JavaScript]\nvar rangeSumBST = function(root, low, high) {\n    if (!root) {\n        return 0;\n    }\n    if (root.val > high) {\n        return rangeSumBST(root.left, low, high);\n    }\n    if (root.val < low) {\n        return rangeSumBST(root.right, low, high);\n    }\n    return root.val + rangeSumBST(root.left, low, high) + rangeSumBST(root.right, low, high);\n};\n```\n\n```Python [sol1-Python3]\nclass Solution:\n    def rangeSumBST(self, root: TreeNode, low: int, high: int) -> int:\n        if not root:\n            return 0\n        if root.val > high:\n            return self.rangeSumBST(root.left, low, high)\n        if root.val < low:\n            return self.rangeSumBST(root.right, low, high)\n        return root.val + self.rangeSumBST(root.left, low, high) + self.rangeSumBST(root.right, low, high)\n```\n\n```C [sol1-C]\nint rangeSumBST(struct TreeNode *root, int low, int high) {\n    if (root == NULL) {\n        return 0;\n    }\n    if (root->val > high) {\n        return rangeSumBST(root->left, low, high);\n    }\n    if (root->val < low) {\n        return rangeSumBST(root->right, low, high);\n    }\n    return root->val + rangeSumBST(root->left, low, high) + rangeSumBST(root->right, low, high);\n}\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œå…¶ä¸­ $n$ æ˜¯äºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹æ•°ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºæ ˆç©ºé—´çš„å¼€é”€ã€‚\n\n#### æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢\n\n**æ€è·¯**\n\nä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ–¹æ³•ï¼Œç”¨ä¸€ä¸ªé˜Ÿåˆ— $q$ å­˜å‚¨éœ€è¦è®¡ç®—çš„èŠ‚ç‚¹ã€‚æ¯æ¬¡å–å‡ºé˜Ÿé¦–èŠ‚ç‚¹æ—¶ï¼Œè‹¥èŠ‚ç‚¹ä¸ºç©ºåˆ™è·³è¿‡è¯¥èŠ‚ç‚¹ï¼Œå¦åˆ™æŒ‰æ–¹æ³•ä¸€ä¸­ç»™å‡ºçš„å¤§å°å…³ç³»æ¥å†³å®šåŠ å…¥é˜Ÿåˆ—çš„å­èŠ‚ç‚¹ã€‚\n\n**ä»£ç **\n\n```C++ [sol2-C++]\nclass Solution {\npublic:\n    int rangeSumBST(TreeNode *root, int low, int high) {\n        int sum = 0;\n        queue<TreeNode*> q({root});\n        while (!q.empty()) {\n            auto node = q.front();\n            q.pop();\n            if (node == nullptr) {\n                continue;\n            }\n            if (node->val > high) {\n                q.push(node->left);\n            } else if (node->val < low) {\n                q.push(node->right);\n            } else {\n                sum += node->val;\n                q.push(node->left);\n                q.push(node->right);\n            }\n        }\n        return sum;\n    }\n};\n```\n\n```Java [sol2-Java]\nclass Solution {\n    public int rangeSumBST(TreeNode root, int low, int high) {\n        int sum = 0;\n        Queue<TreeNode> q = new LinkedList<TreeNode>();\n        q.offer(root);\n        while (!q.isEmpty()) {\n            TreeNode node = q.poll();\n            if (node == null) {\n                continue;\n            }\n            if (node.val > high) {\n                q.offer(node.left);\n            } else if (node.val < low) {\n                q.offer(node.right);\n            } else {\n                sum += node.val;\n                q.offer(node.left);\n                q.offer(node.right);\n            }\n        }\n        return sum;\n    }\n}\n```\n\n```go [sol2-Golang]\nfunc rangeSumBST(root *TreeNode, low, high int) (sum int) {\n    q := []*TreeNode{root}\n    for len(q) > 0 {\n        node := q[0]\n        q = q[1:]\n        if node == nil {\n            continue\n        }\n        if node.Val > high {\n            q = append(q, node.Left)\n        } else if node.Val < low {\n            q = append(q, node.Right)\n        } else {\n            sum += node.Val\n            q = append(q, node.Left, node.Right)\n        }\n    }\n    return\n}\n```\n\n```JavaScript [sol2-JavaScript]\nvar rangeSumBST = function(root, low, high) {\n    let sum = 0;\n    const q = [root];\n    while (q.length) {\n        const node = q.shift();\n        if (!node) {\n            continue;\n        }\n        if (node.val > high) {\n            q.push(node.left);\n        } else if (node.val < low) {\n            q.push(node.right);\n        } else {\n            sum += node.val;\n            q.push(node.left);\n            q.push(node.right);\n        }\n    }\n    return sum;\n};\n```\n\n```Python [sol2-Python3]\nclass Solution:\n    def rangeSumBST(self, root: TreeNode, low: int, high: int) -> int:\n        total = 0\n        q = collections.deque([root])\n        while q:\n            node = q.popleft()\n            if not node:\n                continue\n            if node.val > high:\n                q.append(node.left)\n            elif node.val < low:\n                q.append(node.right)\n            else:\n                total += node.val\n                q.append(node.left)\n                q.append(node.right)\n\n        return total\n```\n\n```C [sol2-C]\nint rangeSumBST(struct TreeNode *root, int low, int high) {\n    int sum = 0;\n    struct TreeNode *q[40000];\n    int left = 0, right = 0;\n    q[right++] = root;\n    while (left < right) {\n        struct TreeNode *node = q[left++];\n        if (node == NULL) {\n            continue;\n        }\n        if (node->val > high) {\n            q[right++] = node->left;\n        } else if (node->val < low) {\n            q[right++] = node->right;\n        } else {\n            sum += node->val;\n            q[right++] = node->left;\n            q[right++] = node->right;\n        }\n    }\n    return sum;\n}\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œå…¶ä¸­ $n$ æ˜¯äºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹æ•°ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé˜Ÿåˆ—çš„ç©ºé—´ã€‚\n\n---\n# [ğŸ“š å¥½è¯»ä¹¦ï¼Ÿè¯»å¥½ä¹¦ï¼è®©æ—¶é—´æ›´æœ‰ä»·å€¼| ä¸–ç•Œè¯»ä¹¦æ—¥](https://leetcode-cn.com/circle/discuss/12QtuI/)\n4 æœˆ 22 æ—¥è‡³ 4 æœˆ 28 æ—¥ï¼Œè¿›å…¥ã€Œ[å­¦ä¹ ](https://leetcode-cn.com/leetbook/)ã€ï¼Œå®Œæˆé¡µé¢å³ä¸Šè§’çš„ã€Œè®©æ—¶é—´æ›´æœ‰ä»·å€¼ã€é™æ—¶é˜…è¯»ä»»åŠ¡ï¼Œå¯è·å¾—ã€Œ2021 è¯»ä¹¦æ—¥çºªå¿µå‹‹ç« ã€ã€‚æ›´å¤šæ´»åŠ¨è¯¦æƒ…æˆ³ä¸Šæ–¹æ ‡é¢˜äº†è§£æ›´å¤šğŸ‘†\n#### ä»Šæ—¥å­¦ä¹ ä»»åŠ¡ï¼š\n- å›¾è§£èƒŒåŒ…é—®é¢˜\n[å®Œæˆé˜…è¯» 9.1 èƒŒåŒ…é—®é¢˜](https://leetcode-cn.com/leetbook/read/grokking-algorithms/raw9o5/)\n- å›¾è§£èƒŒåŒ…é—®é¢˜ FAQ\n[å®Œæˆé˜…è¯» 9.2 èƒŒåŒ…é—®é¢˜ FAQ](https://leetcode-cn.com/leetbook/read/grokking-algorithms/radh96/)"
}