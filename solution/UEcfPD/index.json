{
	"titleSlug": "UEcfPD",
	"slug": "by-smqk-rihh",
	"url": "https://leetcode-cn.com/problems/UEcfPD/solution/by-smqk-rihh/",
	"content": "![image.png](https://pic.leetcode-cn.com/1650158536-hJFPfN-image.png)\n\n### 解题思路\n简单回溯\n\n### 代码\n\n```java\nclass Solution {\n    int maxAns = 0;\n\n    public int perfectMenu(int[] materials, int[][] cookbooks, int[][] attribute, int limit) {\n        this.maxAns = -1;\n        boolean[] exists = new boolean[cookbooks.length];\n        dfs(materials, cookbooks, attribute, limit, exists, 0, 0);\n        return this.maxAns;\n    }\n\n    /**\n     *\n     * @param materials 材料\n     * @param cookbooks cookbooks[i][j] 表示制作第 i 种料理需要第 j 种食材的数量\n     * @param attribute attribute[i] = [x,y] 表示第 i 道料理的美味度 x 和饱腹感 y\n     * @param limit     最小饱腹感 limit\n     * @param exists    状态, exists[i] = true 表示已经做了第 i 道料理\n     * @param sumx      总的美味度 x\n     * @param sumy      总的饱腹感 y\n     */\n    public void dfs(int[] materials, int[][] cookbooks, int[][] attribute, int limit, boolean[] exists, int sumx, int sumy) {\n        if (sumy >= limit) this.maxAns = Math.max(maxAns, sumx);\n\n        int len = cookbooks.length;\n        for (int i = 0; i < len; i++) {\n            // 第 i 道料理 已经做了就不做\n            if(exists[i]) continue;\n\n            // 检查材料是否足够制作第 i 种料理\n            int[] need = cookbooks[i];\n            boolean can = true;\n            for (int j = 0; j < need.length; j++) {\n                if (materials[j] < need[j]) {\n                    can = false;\n                    break;\n                }\n            }\n            if (can) {  // 可以制作\n                exists[i] = true;\n                for (int j = 0; j < need.length; j++) {\n                    materials[j] -= need[j];\n                }\n                dfs(materials, cookbooks, attribute, limit, exists, sumx + attribute[i][0], sumy + attribute[i][1]);\n                for (int j = 0; j < need.length; j++) {\n                    materials[j] += need[j];\n                }\n                exists[i] = false;\n            }\n        }\n\n    }\n}\n\n```\n\n\n### 最后\n如果有帮助到你，请给题解**点个赞**和**收藏**，让更多的人看到 ~ (\"▔□▔)/\n\n也欢迎加我微信『 **code5bug** 』和 加入我们的「组队打卡」小群。"
}