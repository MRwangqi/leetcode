{
	"titleSlug": "shortest-common-supersequence",
	"slug": "by-ac_oier-s346",
	"url": "https://leetcode-cn.com/problems/shortest-common-supersequence/solution/by-ac_oier-s346/",
	"content": "## LCS æ±‚å…·ä½“æ–¹æ¡ˆ + æ„é€ \n\nä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä»¤ `str1` ä¸º `s1`ï¼Œ`str2` ä¸º `s2`ï¼Œå¹¶å°†ä¸¤è€…é•¿åº¦è®°ä¸º $n$ å’Œ $m$ã€‚\n\nå®¹æ˜“æƒ³åˆ°æœ€ç»ˆçš„æ–¹æ¡ˆå¿…ç„¶æ˜¯ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šä¸¤å­—ç¬¦ä¸²çš„å…¬å…±å­åºåˆ—ï¼ˆä¸”å¿…ç„¶æ˜¯æœ€é•¿å…¬å…±å­åºåˆ—ï¼‰+ ä¸¤è€…ç‰¹æœ‰çš„å­—ç¬¦éƒ¨åˆ†ã€‚\n\nåŸºäºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä½¿ç”¨å¯¹ä¸¤è€…æ±‚ `LCS`ï¼Œå¹¶åœ¨æ±‚å…·ä½“æ–¹æ¡ˆæ—¶éµå¾ªï¼šå±äºæœ€é•¿å…¬å…±å­åºåˆ—çš„å­—ç¬¦åªæ·»åŠ ä¸€æ¬¡ï¼Œè€Œç‰¹æœ‰äº `s1` æˆ– `s2` çš„å­—ç¬¦åˆ™ç‹¬è‡ªæ·»åŠ ä¸€æ¬¡ã€‚\n\næ±‚è§£ `LCS` éƒ¨åˆ†æˆ‘ä»¬å®šä¹‰ **$f[i][j]$ ä»£è¡¨è€ƒè™‘ $s1$ çš„å‰ $i$ ä¸ªå­—ç¬¦ã€è€ƒè™‘ $s2$ çš„å‰ $j$ çš„å­—ç¬¦ï¼Œå½¢æˆçš„æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦ï¼ˆä¸ºäº†æ–¹ä¾¿ï¼Œä»¤ä¸‹æ ‡ä» $1$ å¼€å§‹ï¼‰ã€‚**\n\nå½“æœ‰äº†ã€ŒçŠ¶æ€å®šä¹‰ã€ä¹‹åï¼ŒåŸºæœ¬ä¸Šã€Œè½¬ç§»æ–¹ç¨‹ã€å°±æ˜¯å‘¼ä¹‹æ¬²å‡ºï¼š\n\n* `s1[i]==s2[j]` : $f[i][j]=f[i-1][j-1]+1$ã€‚ä»£è¡¨**å¿…ç„¶ä½¿ç”¨ $s1[i]$ ä¸ $s2[j]$ æ—¶** `LCS` çš„é•¿åº¦ã€‚\n* `s1[i]!=s2[j]` : $f[i][j]=max(f[i-1][j], f[i][j-1])$ã€‚ä»£è¡¨**å¿…ç„¶ä¸ä½¿ç”¨ $s1[i]$ï¼ˆä½†å¯èƒ½ä½¿ç”¨$s2[j]$ï¼‰æ—¶** å’Œ **å¿…ç„¶ä¸ä½¿ç”¨ $s2[j]$ï¼ˆä½†å¯èƒ½ä½¿ç”¨$s1[i]$ï¼‰æ—¶** `LCS` çš„é•¿åº¦ã€‚\n\n> **ä¸äº†è§£ LCS çš„åŒå­¦å¯ä»¥çœ‹å‰ç½® ğŸ§€ : [LCS æ¨¡æ¿é¢˜](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247492097&idx=1&sn=f51f29d86df809d8a***3a40a1369b3d6)**\n\nå½“é¢„å¤„ç†å‡ºåŠ¨è§„æ•°ç»„ `f` ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨ã€ŒåŒæŒ‡é’ˆã€å’Œã€Œé€šç”¨ `DP` æ±‚å…·ä½“æ–¹æ¡ˆã€çš„åšæ³•è¿›è¡Œæ„é€ ï¼šä½¿ç”¨ `i` å˜é‡æŒ‡å‘ `s1` çš„å°¾éƒ¨ï¼ˆå³èµ·å§‹æœ‰ $i = n$ï¼‰ï¼Œä½¿ç”¨ `j` å˜é‡æŒ‡å‘ `s2` çš„å°¾éƒ¨ï¼ˆå³èµ·å§‹æœ‰ $j = m$ï¼‰ï¼Œæ ¹æ® `i` å’Œ `j` å½“å‰æ‰€åœ¨ä½ç½®ä»¥åŠ $f[i][j]$ ä»ä½•å€¼è½¬ç§»è€Œæ¥ï¼š\n\n1. è‹¥ `i` æˆ– `j` å…¶ä¸€èµ°å®Œï¼ˆ`i = 0` æˆ– `j = 0`ï¼‰ï¼Œå°†å‰©ä½™å­—ç¬¦è¿½åŠ åˆ°ç­”æ¡ˆä¸­ï¼›\n2. å½“ $f[i][j] = f[i - 1][j - 1] + 1$ ä¸” $s1[i] = s2[j]$ æ—¶ï¼ˆå¯ç®€åŒ–ä¸º $s1[i] = s2[j]$ åˆ¤æ–­ï¼‰ï¼Œæ­¤æ—¶ `i` æŒ‡å‘çš„å­—ç¬¦å’Œ `j` æŒ‡å‘çš„å­—ç¬¦ä¸ºç›¸åŒï¼Œä¸”ä¸º `LCS` ä¸­çš„å­—ç¬¦ï¼Œå°†å…¶è¿½åŠ åˆ°å…·ä½“æ–¹æ¡ˆï¼Œå¹¶è®© `i` å’Œ `j` åŒæ—¶åç§»ï¼›\n3. å½“ $f[i][j] = f[i - 1][j]$ï¼Œå°† `s1[i]` è¿½åŠ åˆ°ç­”æ¡ˆä¸­ï¼Œä»¤ `i` åç§»ï¼›\n4. å½“ $f[i][j] = f[i][j - 1]$ï¼Œå°† `s2[j]` è¿½åŠ åˆ°ç­”æ¡ˆä¸­ï¼Œä»¤ `j` åç§»ã€‚\n\nå½“æ¡ä»¶ `3` å’Œ `4` åŒæ—¶æ»¡è¶³æ—¶ï¼Œç”±äºåªéœ€è¦è¾“å‡ºä»»ä¸€å…·ä½“æ–¹æ¡ˆï¼Œæˆ‘ä»¬ä»»å–å…¶ä¸€å³å¯ã€‚\n\næœ€åï¼Œç”±äºæˆ‘ä»¬æ˜¯ä»åå¾€å‰è¿›è¡Œæ„é€ ï¼Œåœ¨è¿”å›æ—¶éœ€è¦å†è¿›è¡Œä¸€æ¬¡ç¿»è½¬ã€‚\n\nä»£ç ï¼š\n```Java []\nclass Solution {\n    public String shortestCommonSupersequence(String str1, String str2) {\n        int n = str1.length(), m = str2.length();\n        str1 = \" \" + str1; str2 = \" \" + str2;\n        char[] s1 = str1.toCharArray(), s2 = str2.toCharArray();\n        int[][] f = new int[n + 10][m + 10];\n        for (int i = 1; i <= n; i++) {\n            for (int j = 1; j <= m; j++) {\n                if (s1[i] == s2[j]) f[i][j] = f[i - 1][j - 1] + 1;\n                else f[i][j] = Math.max(f[i - 1][j], f[i][j - 1]);\n            }\n        }\n        StringBuilder sb = new StringBuilder();\n        int i = n, j = m;\n        while (i > 0 || j > 0) {\n            if (i == 0) sb.append(s2[j--]);\n            else if (j == 0) sb.append(s1[i--]);\n            else {\n                if (s1[i] == s2[j]) {\n                    sb.append(s1[i]);\n                    i--; j--;\n                } else if (f[i][j] == f[i - 1][j]) {\n                    sb.append(s1[i--]);\n                } else {\n                    sb.append(s2[j--]);\n                }\n            }\n        }\n        return sb.reverse().toString();\n    }\n}\n```\n```TypeScript []\nfunction shortestCommonSupersequence(s1: string, s2: string): string {\n    const n = s1.length, m = s2.length\n    s1 = \" \" + s1; s2 = \" \" + s2\n    const f = new Array<Array<number>>()\n    for (let i = 0; i < n + 10; i++) f.push(new Array<number>(m + 10).fill(0))\n    for (let i = 1; i <= n; i++) {\n        for (let j = 1; j <= m; j++) {\n            if (s1[i] == s2[j]) f[i][j] = f[i - 1][j - 1] + 1\n            else f[i][j] = Math.max(f[i - 1][j], f[i][j - 1])\n        }\n    }\n    let ans = \"\"\n    let i = n, j = m\n    while (i > 0 || j > 0) {\n        if (i == 0) ans += s2[j--]\n        else if (j == 0) ans += s1[i--]\n        else {\n            if (s1[i] == s2[j]) {\n                ans += s1[i]\n                i--; j--\n            } else if (f[i][j] == f[i - 1][j]) {\n                ans += s1[i--]\n            } else {\n                ans += s2[j--]\n            }\n        }\n    }\n    return ans.split('').reverse().join('')\n};\n```\n```Python []\nclass Solution:\n    def shortestCommonSupersequence(self, s1: str, s2: str) -> str:\n        n, m = len(s1), len(s2)\n        s1 = \" \" + s1\n        s2 = \" \" + s2\n        f = [[0] * (m + 10) for _ in range(n + 10)]\n        for i in range(1, n + 1):\n            for j in range(1, m + 1):\n                f[i][j] = f[i - 1][j - 1] + 1 if s1[i] == s2[j] else max(f[i - 1][j], f[i][j - 1])\n        ans = \"\"\n        i, j = n, m\n        while i > 0 or j > 0:\n            if i == 0:\n                ans += s2[j]\n                j -= 1\n            elif j == 0:\n                ans += s1[i]\n                i -= 1\n            else:\n                if s1[i] == s2[j]:\n                    ans += s1[i]\n                    i -= 1\n                    j -= 1\n                elif f[i][j] == f[i - 1][j]:\n                    ans += s1[i]\n                    i -= 1\n                else:\n                    ans += s2[j]\n                    j -= 1\n        return ans[::-1]\n```\n* æ—¶é—´å¤æ‚åº¦ï¼š`LCS` å¤æ‚åº¦ä¸º $O(n \\times m)$ï¼›æ„é€ ç­”æ¡ˆå¤æ‚åº¦ä¸º $O(n \\times m)$ã€‚æ•´ä½“å¤æ‚åº¦ä¸º $O(n \\times m)$\n* ç©ºé—´å¤æ‚åº¦ï¼š$O(n \\times m)$\n\n---\n\n## æœ€å\n\n**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ (\"â–”â–¡â–”)/**\n\nä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png) å’Œ åŠ å…¥æˆ‘ä»¬çš„[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ã€‚\n\næ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~"
}