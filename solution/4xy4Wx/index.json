{
	"titleSlug": "4xy4Wx",
	"slug": "shuang-zhi-zhen-cai-gou-fang-an-by-demig-1jrv",
	"url": "https://leetcode-cn.com/problems/4xy4Wx/solution/shuang-zhi-zhen-cai-gou-fang-an-by-demig-1jrv/",
	"content": "![å›¾è§£æ¯æ—¥ä¸€ç»ƒ.jpg](https://pic.leetcode-cn.com/1615817903-fzmpwZ-%E5%9B%BE%E8%A7%A3%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83.jpg)\n\n---\n\n### ğŸ§  è§£é¢˜æ€è·¯\n\né€šè¿‡åˆ†æé¢˜æ„ï¼Œæˆ‘ä»¬å¾—çŸ¥å…¶éœ€æ±‚å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨ $nums$ ä¸­æ‰¾åˆ°ä¸¤ä¸ªæ•° $a$ å’Œ $b$ï¼Œå¹¶ä¸”è®©å…¶æ»¡è¶³ $a + b <= target$ å³å¯ï¼\n\né¦–å…ˆï¼Œå¦‚æœé€šè¿‡åŒ $for$ æš´ç ´ï¼Œå¾ˆæ˜¾ç„¶ï¼Œä¼šè¶…æ—¶çš„......ï¼Œåˆ«é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„å“ˆï¼ï¼\n\nå’³ï¼Œå’³å’³...ï¼Œè¨€å½’æ­£ä¼ ï¼Œå…ˆæ•´ä¸ªä¾‹å­ä¾¿äºè®²è§£ï¼š\n\n```js\nnumsï¼š[2ï¼Œ2ï¼Œ1ï¼Œ9]     target: 10\n```\n\né¦–å…ˆï¼Œè·å–ä¸¤ä¸ªæ•°ï¼Œæ±‚å’Œä¹‹åå†å’ŒæŸä¸ªæ•°åšæ¯”è¾ƒï¼Œè¿™ä¸ªé¢˜å…¶å®å’Œ [å‰‘æŒ‡ Offer 57. å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­—](https://leetcode-cn.com/problems/he-wei-sde-liang-ge-shu-zi-lcof/solution/shuang-zhi-zhen-he-wei-sde-liang-ge-shu-wy7r4/) æä¸ºç›¸ä¼¼ï¼Œä¸çŸ¥é“çš„å°ä¼™ä¼´å¯ä»¥å…ˆè¡Œçœ‹çœ‹è¿™é“é¢˜ç†Ÿæ‚‰ä¸€ä¸‹æ€è·¯ã€‚\n\né¦–å…ˆï¼Œä¸ºäº†ä¾¿äºè®¡ç®—ï¼Œæˆ‘ä»¬å…ˆå¯¹ $nums$ åšå‡åºæ’åºã€‚\n\n```js\nnumsï¼š[1ï¼Œ2ï¼Œ2ï¼Œ9]     target: 10\n```\n\nç„¶åï¼Œåˆ›å»ºä¸€ä¸ªæŒ‡é’ˆ $i$ æŒ‡é’ˆæŒ‡å‘ $nums$ é¦–ä½ï¼Œå†åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆ $j$ æŒ‡å‘ $nums$ æœ«ä½ï¼Œç„¶åé€šè¿‡éå†ï¼Œæ‰¾åˆ°ç¬¦åˆ $nums[i] + nums[j] <= target$ æ¡ä»¶çš„ $i$ï¼Œ$j$ åŒºé—´èŒƒå›´ã€‚\n\næ—¢ç„¶è¯¥èŒƒå›´çš„è¾¹ç•Œå€¼ä¹‹å’Œéƒ½æ»¡è¶³äº†æ¡ä»¶ï¼Œé‚£ä¹ˆä»£è¡¨è¯¥åŒºé—´å†…çš„æ‰€æœ‰æ•°å­—å’Œ $nums[i]$ ç›¸åŠ éƒ½æ»¡è¶³æ¡ä»¶ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ $j - i$ æ¥è·å–åˆ°å½“å‰æœ‰å¤šå°‘ä¸ªæ•°ï¼Œå¯ä»¥å’Œ $nums[i]$ ç›¸åŠ åæ»¡è¶³æ¡ä»¶ï¼\n\n```js\niï¼š0    jï¼š3    nums[0] + nums[3] = 10ï¼Œæ»¡è¶³æ¡ä»¶ <= 10\n\næ‰€ä»¥ï¼Œå½“ i = 0 æ—¶ï¼Œå­˜åœ¨ j - i = 3 ç§æ–¹æ¡ˆï¼Œå³ï¼š[0,1],[0,2],[0,3]\n\n------------------------------------------------------------\n\nç„¶å i æŒ‡é’ˆå³ç§»ä¸€ä½ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n\niï¼š1    jï¼š3    nums[1] + nums[3] = 11ï¼Œä¸æ»¡è¶³æ¡ä»¶ <= 10\n\n------------------------------------------------------------\n\næ‰€ä»¥ j æŒ‡é’ˆå·¦ç§»ä¸€ä½ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n\niï¼š1    jï¼š2    nums[1] + nums[2] = 4ï¼Œæ»¡è¶³æ¡ä»¶ <= 10\n\n------------------------------------------------------------\n\næ‰€ä»¥ï¼Œå½“ i = 1 æ—¶ï¼Œå­˜åœ¨ j - i = 1 ç§æ–¹æ¡ˆï¼Œå³ï¼š[1,2]\n\næœ€åï¼Œæ»¡è¶³æ¡ä»¶çš„æ–¹æ¡ˆæ€»å…±å°±æ˜¯ [0,1],[0,2],[0,3],[1,2] è¿™ 4 ç§æ–¹æ¡ˆï¼\n```\n\næœ€åï¼Œå°±å¯ä»¥æ„‰å¿«çš„å¼€æ•´äº†ï¼ï¼\n\n---\n\n### ğŸ¨ å›¾è§£æ¼”ç¤º\n\n<![1.jpg](https://pic.leetcode-cn.com/1617637284-evGZZy-1.jpg),![2.jpg](https://pic.leetcode-cn.com/1617637286-JWmhtm-2.jpg),![3.jpg](https://pic.leetcode-cn.com/1617637288-UVPawe-3.jpg),![4.jpg](https://pic.leetcode-cn.com/1617637291-nAFQsZ-4.jpg),![5.jpg](https://pic.leetcode-cn.com/1617637293-OiDDSt-5.jpg),![6.jpg](https://pic.leetcode-cn.com/1617637295-tVRxER-6.jpg),![7.jpg](https://pic.leetcode-cn.com/1617637297-PMRfOg-7.jpg),![8.jpg](https://pic.leetcode-cn.com/1617637299-NqIPos-8.jpg),![9.jpg](https://pic.leetcode-cn.com/1617637302-UUSLnp-9.jpg)>\n\n---\n\n### ğŸ­ ç¤ºä¾‹ä»£ç \n\n```Javascript []\nvar purchasePlans = function(nums, target) {\n    let i = 0, j = nums.length - 1, ans = 0;\n    nums.sort((a, b) => a - b);\n    while(i < j){\n        if(nums[i] + nums[j] > target) j--;\n        else {\n            ans += j - i;\n            i++;\n        }\n    }\n    return ans % 1000000007;\n};\n```\n```Java []\nclass Solution {\n    public int purchasePlans(int[] nums, int target) {\n        int mod = 1_000_000_007;\n        int ans = 0;\n        Arrays.sort(nums);\n        int left = 0, right = nums.length - 1;\n        while (left < right) {\n            if (nums[left] + nums[right] > target) right--;\n            else {\n                ans += right - left;\n                left++;\n            }\n            ans %= mod;\n        }\n        return ans % mod;\n    }\n}\n```\n```C++ []\nclass Solution {\npublic:\n    int purchasePlans(vector<int>& nums, int target) {\n        long long res = 0;\n        long long mod = 1000000007;\n        sort(nums.begin(),nums.end());\n        int i=0,j = nums.size()-1;\n        for(i=0;i<j;i++)\n        {\n            while(j>i&&nums[i]+nums[j]>target)\n            {\n                j--;\n            }\n            res += j-i;\n        }\n        return res%mod;\n    }\n};\n```\n```C []\nint comp(const void* a,const void* b){\n    return *(int*)a - *(int*)b;\n}\nint purchasePlans(int* nums, int numsSize, int target){\n    long long sum = 0;\n    qsort(nums,numsSize,sizeof(int),comp);\n    unsigned left = 0,right = numsSize - 1;\n    while(left < right){\n        if((nums[left] + nums[right]) > target){\n            right--;\n        }\n        else{\n            sum += right - left;\n            left++;\n        }\n    }\n    return sum%(1000000007);\n}\n```\n```Golang []\nfunc purchasePlans(nums []int, target int) int {\n\tsort.Ints(nums)\n\tj := len(nums) - 1\n\tans := 0\n\tfor i := 0; i < len(nums); i++ {\n\t\tfor ; j > i; j-- {\n\t\t\tif nums[i]+nums[j] <= target {\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tif j > i {\n\t\t\tans = ans + (j - i)\n\t\t}\n\t}\n\treturn ans % 1000000007\n}\n```\n```Python3 []\nclass Solution:\n    def purchasePlans(self, nums: List[int], target: int) -> int:\n        nums.sort()\n        ans = 0\n        i = 0\n        j = len(nums)-1\n        while i < j:\n            if nums[i] + nums[j] > target:\n                j -= 1\n            else:\n                ans += (j-i)\n                i += 1\n        if ans<=1000000007:\n            return ans\n        else:\n            return ans%1000000007\n```\n\n---\n\n### è½¬èº«æŒ¥æ‰‹\n\nå˜¿ï¼Œå°‘å¹´ï¼Œåšå›¾ä¸æ˜“ï¼Œç•™ä¸‹ä¸ªèµæˆ–è¯„è®ºå†èµ°å§ï¼è°¢å•¦~ ğŸ’\n\nå·®ç‚¹å¿˜äº†ï¼Œç¥ä½ ç‰›å¹´å¤§å‰ ğŸ® ï¼ŒAC å’Œ Offer ğŸ“‘ å¤šå¤šç›Šå–„~\n\nâ›²â›²â›² æœŸå¾…ä¸‹æ¬¡å†è§~ "
}