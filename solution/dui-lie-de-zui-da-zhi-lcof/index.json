{
	"titleSlug": "dui-lie-de-zui-da-zhi-lcof",
	"slug": "mian-shi-ti-59-ii-dui-lie-de-zui-da-zhi-by-leetcod",
	"url": "https://leetcode-cn.com/problems/dui-lie-de-zui-da-zhi-lcof/solution/mian-shi-ti-59-ii-dui-lie-de-zui-da-zhi-by-leetcod/",
	"content": "### ðŸ“º è§†é¢‘é¢˜è§£  \n![...- II. é˜Ÿåˆ—çš„æœ€å¤§å€¼(1).mp4](38597adb-b2c9-4c7c-86be-7a1dbfea42fd)\n\n### ðŸ“– æ–‡å­—é¢˜è§£\n#### æ–¹æ³•ä¸€ï¼šæš´åŠ›\n**æ€è·¯**\n\nç›´æŽ¥å®žçŽ°ä¸€ä¸ªæ™®é€šçš„é˜Ÿåˆ—ï¼ŒæŸ¥è¯¢æœ€å¤§å€¼æ—¶éåŽ†è®¡ç®—ã€‚\n\n```python [-Python 3]\nimport queue\nclass MaxQueue:\n\n    def __init__(self):\n        self.deque = queue.deque()\n\n    def max_value(self) -> int:\n        return max(self.deque) if self.deque else -1\n\n    def push_back(self, value: int) -> None:\n        self.deque.append(value)\n\n    def pop_front(self) -> int:\n        return self.deque.popleft() if self.deque else -1\n```\n```cpp [-C++]\nclass MaxQueue {\n    int q[20000];\n    int begin = 0, end = 0;\npublic:\n    MaxQueue() {\n    }\n    \n    int max_value() {\n        int ans = -1;\n        for (int i = begin; i != end; ++i)\n            ans = max(ans, q[i]);\n        return ans;\n    }\n    \n    void push_back(int value) {\n        q[end++] = value;\n    }\n    \n    int pop_front() {\n        if (begin == end)\n            return -1;\n        return q[begin++];\n    }\n};\n```\n```Java [-Java]\nclass MaxQueue {\n    int[] q = new int[20000];\n    int begin = 0, end = 0;\n\n    public MaxQueue() {\n\n    }\n    \n    public int max_value() {\n        int ans = -1;\n        for (int i = begin; i != end; ++i) {\n            ans = Math.max(ans, q[i]);\n        }\n        return ans;\n    }\n    \n    public void push_back(int value) {\n        q[end++] = value;\n    }\n    \n    public int pop_front() {\n        if (begin == end) {\n            return -1;\n        }\n        return q[begin++];\n    }\n}\n```\n\n**å¤æ‚åº¦åˆ†æž**\n\n* æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$ï¼ˆæ’å…¥ï¼Œåˆ é™¤ï¼‰ï¼Œ$O(n)$ï¼ˆæ±‚æœ€å¤§å€¼ï¼‰ã€‚\n  æ’å…¥ä¸Žåˆ é™¤åªéœ€è¦æ™®é€šçš„é˜Ÿåˆ—æ“ä½œï¼Œä¸º $O(1)$ï¼Œæ±‚æœ€å¤§å€¼éœ€è¦éåŽ†å½“å‰çš„æ•´ä¸ªé˜Ÿåˆ—ï¼Œæœ€åæƒ…å†µä¸‹ä¸º $O(n)$ã€‚\n* ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œéœ€è¦ç”¨é˜Ÿåˆ—å­˜å‚¨æ‰€æœ‰æ’å…¥çš„å…ƒç´ ã€‚\n\n#### æ–¹æ³•äºŒï¼šç»´æŠ¤ä¸€ä¸ªå•è°ƒçš„åŒç«¯é˜Ÿåˆ—\n**æ€è·¯**\n\næœ¬ç®—æ³•åŸºäºŽé—®é¢˜çš„ä¸€ä¸ªé‡è¦æ€§è´¨ï¼šå½“ä¸€ä¸ªå…ƒç´ è¿›å…¥é˜Ÿåˆ—çš„æ—¶å€™ï¼Œå®ƒå‰é¢æ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ å°±ä¸ä¼šå†å¯¹ç­”æ¡ˆäº§ç”Ÿå½±å“ã€‚\n\nä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æžœæˆ‘ä»¬å‘é˜Ÿåˆ—ä¸­æ’å…¥æ•°å­—åºåˆ— `1 1 1 1 2`ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€ä¸ªæ•°å­— 2 è¢«æ’å…¥åŽï¼Œæ•°å­— 2 å‰é¢çš„æ‰€æœ‰æ•°å­— 1 å°†ä¸ä¼šå¯¹ç»“æžœäº§ç”Ÿå½±å“ã€‚å› ä¸ºæŒ‰ç…§é˜Ÿåˆ—çš„å–å‡ºé¡ºåºï¼Œæ•°å­— 2 åªèƒ½åœ¨æ‰€æœ‰çš„æ•°å­— 1 è¢«å–å‡ºä¹‹åŽæ‰èƒ½è¢«å–å‡ºï¼Œå› æ­¤å¦‚æžœæ•°å­— 1 å¦‚æžœåœ¨é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆæ•°å­— 2 å¿…ç„¶ä¹Ÿåœ¨é˜Ÿåˆ—ä¸­ï¼Œä½¿å¾—æ•°å­— 1 å¯¹ç»“æžœæ²¡æœ‰å½±å“ã€‚\n\næŒ‰ç…§ä¸Šé¢çš„æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡è¿™æ ·çš„æ–¹æ³•ï¼šä»Žé˜Ÿåˆ—å°¾éƒ¨æ’å…¥å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æå‰å–å‡ºé˜Ÿåˆ—ä¸­æ‰€æœ‰æ¯”è¿™ä¸ªå…ƒç´ å°çš„å…ƒç´ ï¼Œä½¿å¾—é˜Ÿåˆ—ä¸­åªä¿ç•™å¯¹ç»“æžœæœ‰å½±å“çš„æ•°å­—ã€‚è¿™æ ·çš„æ–¹æ³•ç­‰ä»·äºŽè¦æ±‚ç»´æŒé˜Ÿåˆ—å•è°ƒé€’å‡ï¼Œå³è¦ä¿è¯æ¯ä¸ªå…ƒç´ çš„å‰é¢éƒ½æ²¡æœ‰æ¯”å®ƒå°çš„å…ƒç´ ã€‚\n\né‚£ä¹ˆå¦‚ä½•é«˜æ•ˆå®žçŽ°ä¸€ä¸ªå§‹ç»ˆé€’å‡çš„é˜Ÿåˆ—å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦åœ¨æ’å…¥æ¯ä¸€ä¸ªå…ƒç´  `value` æ—¶ï¼Œä»Žé˜Ÿåˆ—å°¾éƒ¨ä¾æ¬¡å–å‡ºæ¯”å½“å‰å…ƒç´  `value` å°çš„å…ƒç´ ï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´  `value'` å³å¯ã€‚\n\n  - ä¸Šé¢çš„è¿‡ç¨‹ä¿è¯äº†åªè¦åœ¨å…ƒç´  `value` è¢«æ’å…¥ä¹‹å‰é˜Ÿåˆ—é€’å‡ï¼Œé‚£ä¹ˆåœ¨ `value` è¢«æ’å…¥ä¹‹åŽé˜Ÿåˆ—ä¾ç„¶é€’å‡ã€‚\n  - è€Œé˜Ÿåˆ—çš„åˆå§‹çŠ¶æ€ï¼ˆç©ºé˜Ÿåˆ—ï¼‰ç¬¦åˆå•è°ƒé€’å‡çš„å®šä¹‰ã€‚\n  - ç”±æ•°å­¦å½’çº³æ³•å¯çŸ¥é˜Ÿåˆ—å°†ä¼šå§‹ç»ˆä¿æŒå•è°ƒé€’å‡ã€‚\n\nä¸Šé¢çš„è¿‡ç¨‹éœ€è¦ä»Žé˜Ÿåˆ—å°¾éƒ¨å–å‡ºå…ƒç´ ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨åŒç«¯é˜Ÿåˆ—æ¥å®žçŽ°ã€‚å¦å¤–æˆ‘ä»¬ä¹Ÿéœ€è¦ä¸€ä¸ªè¾…åŠ©é˜Ÿåˆ—æ¥è®°å½•æ‰€æœ‰è¢«æ’å…¥çš„å€¼ï¼Œä»¥ç¡®å®š `pop_front` å‡½æ•°çš„è¿”å›žå€¼ã€‚\n\nä¿è¯äº†é˜Ÿåˆ—å•è°ƒé€’å‡åŽï¼Œæ±‚æœ€å¤§å€¼æ—¶åªéœ€è¦ç›´æŽ¥å–åŒç«¯é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€é¡¹å³å¯ã€‚\n\n```python [-Python 3]\nimport queue\nclass MaxQueue:\n\n    def __init__(self):\n        self.deque = queue.deque()\n        self.queue = queue.Queue()\n\n    def max_value(self) -> int:\n        return self.deque[0] if self.deque else -1\n\n\n    def push_back(self, value: int) -> None:\n        while self.deque and self.deque[-1] < value:\n            self.deque.pop()\n        self.deque.append(value)\n        self.queue.put(value)\n\n    def pop_front(self) -> int:\n        if not self.deque:\n            return -1\n        ans = self.queue.get()\n        if ans == self.deque[0]:\n            self.deque.popleft()\n        return ans\n```\n```cpp [-C++]\nclass MaxQueue {\n    queue<int> q;\n    deque<int> d;\npublic:\n    MaxQueue() {\n    }\n    \n    int max_value() {\n        if (d.empty())\n            return -1;\n        return d.front();\n    }\n    \n    void push_back(int value) {\n        while (!d.empty() && d.back() < value) {\n            d.pop_back();\n        }\n        d.push_back(value);\n        q.push(value);\n    }\n    \n    int pop_front() {\n        if (q.empty())\n            return -1;\n        int ans = q.front();\n        if (ans == d.front()) {\n            d.pop_front();\n        }\n        q.pop();\n        return ans;\n    }\n};\n```\n```Java [-Java]\nclass MaxQueue {\n    Queue<Integer> q;\n    Deque<Integer> d;\n\n    public MaxQueue() {\n        q = new LinkedList<Integer>();\n        d = new LinkedList<Integer>();\n    }\n    \n    public int max_value() {\n        if (d.isEmpty()) {\n            return -1;\n        }\n        return d.peekFirst();\n    }\n    \n    public void push_back(int value) {\n        while (!d.isEmpty() && d.peekLast() < value) {\n            d.pollLast();\n        }\n        d.offerLast(value);\n        q.offer(value);\n    }\n    \n    public int pop_front() {\n        if (q.isEmpty()) {\n            return -1;\n        }\n        int ans = q.poll();\n        if (ans == d.peekFirst()) {\n            d.pollFirst();\n        }\n        return ans;\n    }\n}\n```\n\n**å¤æ‚åº¦åˆ†æž**\n\n* æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$ï¼ˆæ’å…¥ï¼Œåˆ é™¤ï¼Œæ±‚æœ€å¤§å€¼ï¼‰\n  åˆ é™¤æ“ä½œäºŽæ±‚æœ€å¤§å€¼æ“ä½œæ˜¾ç„¶åªéœ€è¦ $O(1)$ çš„æ—¶é—´ã€‚\n  è€Œæ’å…¥æ“ä½œè™½ç„¶çœ‹èµ·æ¥æœ‰å¾ªçŽ¯ï¼Œåšä¸€ä¸ªæ’å…¥æ“ä½œæ—¶æœ€å¤šå¯èƒ½ä¼šæœ‰ $n$ æ¬¡å‡ºé˜Ÿæ“ä½œã€‚ä½†è¦æ³¨æ„ï¼Œç”±äºŽæ¯ä¸ªæ•°å­—åªä¼šå‡ºé˜Ÿä¸€æ¬¡ï¼Œå› æ­¤å¯¹äºŽæ‰€æœ‰çš„ $n$ ä¸ªæ•°å­—çš„æ’å…¥è¿‡ç¨‹ï¼Œå¯¹åº”çš„æ‰€æœ‰å‡ºé˜Ÿæ“ä½œä¹Ÿä¸ä¼šå¤§äºŽ $n$ æ¬¡ã€‚å› æ­¤å°†å‡ºé˜Ÿçš„æ—¶é—´å‡æ‘Šåˆ°æ¯ä¸ªæ’å…¥æ“ä½œä¸Šï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ã€‚\n* ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œéœ€è¦ç”¨é˜Ÿåˆ—å­˜å‚¨æ‰€æœ‰æ’å…¥çš„å…ƒç´ ã€‚"
}