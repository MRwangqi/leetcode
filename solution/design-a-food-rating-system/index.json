{
	"titleSlug": "design-a-food-rating-system",
	"slug": "by-shi-san-r9-wkxi",
	"url": "https://leetcode-cn.com/problems/design-a-food-rating-system/solution/by-shi-san-r9-wkxi/",
	"content": "第一张哈希表`foodRating`的key值是foods,value值是由cuisines和ratings组成的pair\r\n第二张哈希表`cuisineRating`的key值是cuisines，value值是一个set，set的数据类型是一个由foods和ratings组成的pair，set中的排序方式是自己定义的\r\n代码如下：\r\n```\r\nstruct myCmp {\r\n    bool operator()(const std::pair<string, int> &a, const std::pair<string, int> &b) const {\r\n        if(a.second == b.second) {\r\n            return a.first < b.first;\r\n        }\r\n        return a.second > b.second;\r\n    }\r\n};\r\nclass FoodRatings {\r\npublic:\r\n    FoodRatings(vector<string>& foods, vector<string>& cuisines, vector<int>& ratings) {\r\n        for(int i = 0; i < foods.size(); i++) {\r\n            foodRating.insert({foods[i], {cuisines[i], ratings[i]}});\r\n            cuisineRating[cuisines[i]].insert({foods[i], ratings[i]});\r\n        }\r\n    }\r\n    \r\n    void changeRating(string food, int newRating) {\r\n        cuisineRating[foodRating[food].first].erase({food,foodRating[food].second});\r\n        foodRating[food].second = newRating;\r\n        cuisineRating[foodRating[food].first].insert({food, newRating});\r\n    }\r\n    \r\n    string highestRated(string cuisine) {\r\n        return cuisineRating[cuisine].begin()->first;\r\n    }\r\n\r\nprivate:\r\n    unordered_map<string, pair<string, int>> foodRating;\r\n    unordered_map<string, set<pair<string, int>, myCmp>> cuisineRating;\r\n};\r\n```\r\n"
}