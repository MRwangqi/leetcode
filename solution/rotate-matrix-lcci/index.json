{
	"titleSlug": "rotate-matrix-lcci",
	"slug": "xuan-zhuan-ju-zhen-by-leetcode-solution",
	"url": "https://leetcode-cn.com/problems/rotate-matrix-lcci/solution/xuan-zhuan-ju-zhen-by-leetcode-solution/",
	"content": "### ğŸ“º è§†é¢‘é¢˜è§£\n\n![é¢è¯•é¢˜ 01.07. æ—‹è½¬çŸ©é˜µ.mp4](21a942d8-e21b-4c19-8ef8-738a324582c7)\n\n### ğŸ“– æ–‡å­—é¢˜è§£\n\n#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨è¾…åŠ©æ•°ç»„\n\næˆ‘ä»¬ä»¥é¢˜ç›®ä¸­çš„ç¤ºä¾‹äºŒ\n\n$$\n\\begin{bmatrix}\n5 & 1 & 9 & 11 \\\\\n2 & 4 & 8 & 10 \\\\\n13 & 3 & 6 & 7 \\\\\n15 & 14 & 12 & 16\n\\end{bmatrix}\n$$\n\nä½œä¸ºä¾‹å­ï¼Œåˆ†æå°†å›¾åƒæ—‹è½¬ 90 åº¦ä¹‹åï¼Œè¿™äº›æ•°å­—å‡ºç°åœ¨ä»€ä¹ˆä½ç½®ã€‚\n\nå¯¹äºçŸ©é˜µä¸­çš„ç¬¬ä¸€è¡Œè€Œè¨€ï¼Œåœ¨æ—‹è½¬åï¼Œå®ƒå‡ºç°åœ¨å€’æ•°ç¬¬ä¸€åˆ—çš„ä½ç½®ï¼š\n\n$$\n\\begin{bmatrix}\n5 & 1 & 9 & 11 \\\\\n\\circ & \\circ & \\circ & \\circ \\\\\n\\circ & \\circ & \\circ & \\circ \\\\\n\\circ & \\circ & \\circ & \\circ \\\\\n\\end{bmatrix}\n\\xRightarrow[]{æ—‹è½¬å}\n\\begin{bmatrix}\n\\circ & \\circ & \\circ & 5 \\\\\n\\circ & \\circ & \\circ & 1 \\\\\n\\circ & \\circ & \\circ & 9 \\\\\n\\circ & \\circ & \\circ & 11\n\\end{bmatrix}\n$$\n\nå¹¶ä¸”ï¼Œç¬¬ä¸€è¡Œçš„ç¬¬ $x$ ä¸ªå…ƒç´ åœ¨æ—‹è½¬åæ°å¥½æ˜¯å€’æ•°ç¬¬ä¸€åˆ—çš„ç¬¬ $x$ ä¸ªå…ƒç´ ã€‚\n\nå¯¹äºçŸ©é˜µä¸­çš„ç¬¬äºŒè¡Œè€Œè¨€ï¼Œåœ¨æ—‹è½¬åï¼Œå®ƒå‡ºç°åœ¨å€’æ•°ç¬¬äºŒåˆ—çš„ä½ç½®ï¼š\n\n$$\n\\begin{bmatrix}\n\\circ & \\circ & \\circ & \\circ \\\\\n2 & 4 & 8 & 10 \\\\\n\\circ & \\circ & \\circ & \\circ \\\\\n\\circ & \\circ & \\circ & \\circ\n\\end{bmatrix}\n\\xRightarrow[]{æ—‹è½¬å}\n\\begin{bmatrix}\n\\circ & \\circ & 2 & \\circ \\\\\n\\circ & \\circ & 4 & \\circ \\\\\n\\circ & \\circ & 8 & \\circ \\\\\n\\circ & \\circ & 10 & \\circ\n\\end{bmatrix}\n$$\n\nå¯¹äºçŸ©é˜µä¸­çš„ç¬¬ä¸‰è¡Œå’Œç¬¬å››è¡ŒåŒç†ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥å¾—åˆ°è§„å¾‹ï¼š\n\n> å¯¹äºçŸ©é˜µä¸­ç¬¬ $i$ è¡Œçš„ç¬¬ $j$ ä¸ªå…ƒç´ ï¼Œåœ¨æ—‹è½¬åï¼Œå®ƒå‡ºç°åœ¨å€’æ•°ç¬¬ $i$ åˆ—çš„ç¬¬ $j$ ä¸ªä½ç½®ã€‚\n\næˆ‘ä»¬å°†å…¶ç¿»è¯‘æˆä»£ç ã€‚ç”±äºçŸ©é˜µä¸­çš„è¡Œåˆ—ä» $0$ å¼€å§‹è®¡æ•°ï¼Œå› æ­¤å¯¹äºçŸ©é˜µä¸­çš„å…ƒç´  $\\textit{matrix}[\\textit{row}][\\textit{col}]$ï¼Œåœ¨æ—‹è½¬åï¼Œå®ƒçš„æ–°ä½ç½®ä¸º $\\textit{matrix}_\\textit{new}[\\textit{col}][n - \\textit{row} - 1]$ã€‚\n\nè¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªä¸ $\\textit{matrix}$ å¤§å°ç›¸åŒçš„è¾…åŠ©æ•°ç»„ ${matrix}_\\textit{new}$ï¼Œä¸´æ—¶å­˜å‚¨æ—‹è½¬åçš„ç»“æœã€‚æˆ‘ä»¬éå† $\\textit{matrix}$ ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œæ ¹æ®ä¸Šè¿°è§„åˆ™å°†è¯¥å…ƒç´ å­˜æ”¾åˆ° ${matrix}_\\textit{new}$ ä¸­å¯¹åº”çš„ä½ç½®ã€‚åœ¨éå†å®Œæˆä¹‹åï¼Œå†å°† ${matrix}_\\textit{new}$ ä¸­çš„ç»“æœå¤åˆ¶åˆ°åŸæ•°ç»„ä¸­å³å¯ã€‚\n\n```C++ [sol1-C++]\nclass Solution {\npublic:\n    void rotate(vector<vector<int>>& matrix) {\n        int n = matrix.size();\n        // C++ è¿™é‡Œçš„ = æ‹·è´æ˜¯å€¼æ‹·è´ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„\n        auto matrix_new = matrix;\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < n; ++j) {\n                matrix_new[j][n - i - 1] = matrix[i][j];\n            }\n        }\n        // è¿™é‡Œä¹Ÿæ˜¯å€¼æ‹·è´\n        matrix = matrix_new;\n    }\n};\n```\n\n```Java [sol1-Java]\nclass Solution {\n    public void rotate(int[][] matrix) {\n        int n = matrix.length;\n        int[][] matrix_new = new int[n][n];\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < n; ++j) {\n                matrix_new[j][n - i - 1] = matrix[i][j];\n            }\n        }\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < n; ++j) {\n                matrix[i][j] = matrix_new[i][j];\n            }\n        }\n    }\n}\n```\n\n```Python [sol1-Python3]\nclass Solution:\n    def rotate(self, matrix: List[List[int]]) -> None:\n        n = len(matrix)\n        # Python è¿™é‡Œä¸èƒ½ matrix_new = matrix æˆ– matrix_new = matrix[:] å› ä¸ºæ˜¯å¼•ç”¨æ‹·è´\n        matrix_new = [[0] * n for _ in range(n)]\n        for i in range(n):\n            for j in range(n):\n                matrix_new[j][n - i - 1] = matrix[i][j]\n        # ä¸èƒ½å†™æˆ matrix = matrix_new\n        matrix[:] = matrix_new\n```\n\n```JavaScript [sol1-JavaScript]\nvar rotate = function(matrix) {\n    const n = matrix.length;\n    const matrix_new = new Array(n).fill(0).map(() => new Array(n).fill(0));\n    for (let i = 0; i < n; i++) {\n        for (let j = 0; j < n; j++) {\n            matrix_new[j][n - i - 1] = matrix[i][j];\n        }\n    }\n    for (let i = 0; i < n; i++) {\n        for (let j = 0; j < n; j++) {\n            matrix[i][j] = matrix_new[i][j];\n        }\n    }\n};\n```\n\n```Go [sol1-Golang]\nfunc rotate(matrix [][]int) {\n    n := len(matrix)\n    tmp := make([][]int, n)\n    for i := range tmp {\n        tmp[i] = make([]int, n)\n    }\n    for i, row := range matrix {\n        for j, v := range row {\n            tmp[j][n-1-i] = v\n        }\n    }\n    copy(matrix, tmp) // æ‹·è´ tmp çŸ©é˜µæ¯è¡Œçš„å¼•ç”¨\n}\n```\n\n```C [sol1-C]\nvoid rotate(int** matrix, int matrixSize, int* matrixColSize) {\n    int matrix_new[matrixSize][matrixSize];\n    for (int i = 0; i < matrixSize; i++) {\n        for (int j = 0; j < matrixSize; j++) {\n            matrix_new[i][j] = matrix[i][j];\n        }\n    }\n    for (int i = 0; i < matrixSize; ++i) {\n        for (int j = 0; j < matrixSize; ++j) {\n            matrix[j][matrixSize - i - 1] = matrix_new[i][j];\n        }\n    }\n}\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œå…¶ä¸­ $N$ æ˜¯ $\\textit{matrix}$ çš„è¾¹é•¿ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(N^2)$ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªå’Œ $\\textit{matrix}$ å¤§å°ç›¸åŒçš„è¾…åŠ©æ•°ç»„ã€‚\n\n#### æ–¹æ³•äºŒï¼šåŸåœ°æ—‹è½¬\n\né¢˜ç›®ä¸­è¦æ±‚æˆ‘ä»¬å°è¯•åœ¨ä¸ä½¿ç”¨é¢å¤–å†…å­˜ç©ºé—´çš„æƒ…å†µä¸‹è¿›è¡ŒçŸ©é˜µçš„æ—‹è½¬ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦ã€ŒåŸåœ°æ—‹è½¬ã€è¿™ä¸ªçŸ©é˜µã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åœ¨æ–¹æ³•ä¸€çš„åŸºç¡€ä¸Šå®ŒæˆåŸåœ°æ—‹è½¬å‘¢ï¼Ÿ\n\næˆ‘ä»¬è§‚å¯Ÿæ–¹æ³•ä¸€ä¸­çš„å…³é”®ç­‰å¼ï¼š\n\n$$\n\\textit{matrix}_\\textit{new}[\\textit{col}][n - \\textit{row} - 1] = \\textit{matrix}[\\textit{row}][\\textit{col}]\n$$\n\nå®ƒé˜»æ­¢äº†æˆ‘ä»¬è¿›è¡ŒåŸåœ°æ—‹è½¬ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœæˆ‘ä»¬ç›´æ¥å°† $\\textit{matrix}[\\textit{row}][\\textit{col}]$ æ”¾åˆ°åŸçŸ©é˜µä¸­çš„ç›®æ ‡ä½ç½® $\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]$ï¼š\n\n$$\n\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1] = \\textit{matrix}[\\textit{row}][\\textit{col}]\n$$\n\nåŸçŸ©é˜µä¸­çš„ $\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]$ å°±è¢«è¦†ç›–äº†ï¼è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡ $\\textit{temp}$ æš‚å­˜ $\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]$ çš„å€¼ï¼Œè¿™æ ·è™½ç„¶ $\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]$ è¢«è¦†ç›–äº†ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥é€šè¿‡ $\\textit{temp}$ è·å–å®ƒåŸæ¥çš„å€¼ï¼š\n\n$$\n\\left\\{\n\\begin{alignedat}{2}\n&\\textit{temp} &&= \\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]\\\\\n&\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1] &&= \\textit{matrix}[\\textit{row}][\\textit{col}]\n\\end{alignedat}\n\\right.\n$$\n\né‚£ä¹ˆ $\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]$ ç»è¿‡æ—‹è½¬æ“ä½œä¹‹åä¼šåˆ°å“ªä¸ªä½ç½®å‘¢ï¼Ÿæˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨æ–¹æ³•ä¸€ä¸­çš„å…³é”®ç­‰å¼ï¼Œä¸è¿‡è¿™æ¬¡ï¼Œæˆ‘ä»¬éœ€è¦å°†\n\n$$\n\\left\\{\n\\begin{alignedat}{2}\n& \\textit{row} &&= \\textit{col} \\\\\n& \\textit{col} &&= n - \\textit{row} - 1\n\\end{alignedat}\n\\right.\n$$\n\nå¸¦å…¥å…³é”®ç­‰å¼ï¼Œå°±å¯ä»¥å¾—åˆ°ï¼š\n\n$$\n\\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1] = \\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]\n$$\n\nåŒæ ·åœ°ï¼Œç›´æ¥èµ‹å€¼ä¼šè¦†ç›–æ‰ $\\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1]$ åŸæ¥çš„å€¼ï¼Œå› æ­¤æˆ‘ä»¬è¿˜æ˜¯éœ€è¦ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡è¿›è¡Œå­˜å‚¨ï¼Œä¸è¿‡è¿™æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„ä¸´æ—¶å˜é‡ $\\textit{temp}$ï¼š\n\n$$\n\\left\\{\n\\begin{alignedat}{2}\n&\\textit{temp} &&= \\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1]\\\\\n&\\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1] &&= \\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]\\\\\n&\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1] &&= \\textit{matrix}[\\textit{row}][\\textit{col}]\n\\end{alignedat}\n\\right.\n$$\n\næˆ‘ä»¬å†é‡å¤ä¸€æ¬¡ä¹‹å‰çš„æ“ä½œï¼Œ$\\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1]$ ç»è¿‡æ—‹è½¬æ“ä½œä¹‹åä¼šåˆ°å“ªä¸ªä½ç½®å‘¢ï¼Ÿ\n\n$$\n\\left\\{\n\\begin{alignedat}{2}\n& \\textit{row} &&= n - \\textit{row} - 1\\\\\n& \\textit{col} &&= n - \\textit{col} - 1\n\\end{alignedat}\n\\right.\n$$\n\nå¸¦å…¥å…³é”®ç­‰å¼ï¼Œå°±å¯ä»¥å¾—åˆ°ï¼š\n\n$$\n\\textit{matrix}[n - \\textit{col} - 1][\\textit{row}] = \\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1]\n$$\n\nå†™è¿›å»ï¼š\n\n$$\n\\left\\{\n\\begin{alignedat}{2}\n&\\textit{temp} &&= \\textit{matrix}[n - \\textit{col} - 1][\\textit{row}]\\\\\n&\\textit{matrix}[n - \\textit{col} - 1][\\textit{row}] &&= \\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1]\\\\\n&\\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1] &&= \\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]\\\\\n&\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1] &&= \\textit{matrix}[\\textit{row}][\\textit{col}]\n\\end{alignedat}\n\\right.\n$$\n\nä¸è¦ç°å¿ƒï¼Œå†æ¥ä¸€æ¬¡ï¼$\\textit{matrix}[n - \\textit{col} - 1][\\textit{row}]$ ç»è¿‡æ—‹è½¬æ“ä½œä¹‹åå›åˆ°å“ªä¸ªä½ç½®å‘¢ï¼Ÿ\n\n$$\n\\left\\{\n\\begin{alignedat}{2}\n& \\textit{row} &&= n - \\textit{col} - 1\\\\\n& \\textit{col} &&= \\textit{row}\n\\end{alignedat}\n\\right.\n$$\n\nå¸¦å…¥å…³é”®ç­‰å¼ï¼Œå°±å¯ä»¥å¾—åˆ°ï¼š\n\n$$\n\\textit{matrix}[\\textit{row}][\\textit{col}] = \\textit{matrix}[n - \\textit{col} - 1][\\textit{row}]\n$$\n\næˆ‘ä»¬å›åˆ°äº†æœ€åˆçš„èµ·ç‚¹ $\\textit{matrix}[\\textit{row}][\\textit{col}]$ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š\n\n$$\n\\begin{cases}\n\\textit{matrix}[\\textit{row}][\\textit{col}]\\\\\n\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]\\\\\n\\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1]\\\\\n\\textit{matrix}[n - \\textit{col} - 1][\\textit{row}]\n\\end{cases}\n$$\n\nè¿™å››é¡¹å¤„äºä¸€ä¸ªå¾ªç¯ä¸­ï¼Œå¹¶ä¸”æ¯ä¸€é¡¹æ—‹è½¬åçš„ä½ç½®å°±æ˜¯ä¸‹ä¸€é¡¹æ‰€åœ¨çš„ä½ç½®ï¼å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡ $\\textit{temp}$ å®Œæˆè¿™å››é¡¹çš„åŸåœ°äº¤æ¢ï¼š\n\n$$\n\\left\\{\n\\begin{alignedat}{2}\n&\\textit{temp} &&= \\textit{matrix}[\\textit{row}][\\textit{col}]\\\\\n&\\textit{matrix}[\\textit{row}][\\textit{col}] &&= \\textit{matrix}[n - \\textit{col} - 1][\\textit{row}]\\\\\n&\\textit{matrix}[n - \\textit{col} - 1][\\textit{row}] &&= \\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1]\\\\\n&\\textit{matrix}[n - \\textit{row} - 1][n - \\textit{col} - 1] &&= \\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]\\\\\n&\\textit{matrix}[\\textit{col}][n - \\textit{row} - 1] &&= \\textit{temp}\n\\end{alignedat}\n\\right.\n$$\n\nå½“æˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•åŸåœ°æ—‹è½¬çŸ©é˜µä¹‹åï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„é—®é¢˜åœ¨äºï¼šæˆ‘ä»¬åº”è¯¥æšä¸¾å“ªäº›ä½ç½® $(\\textit{row}, \\textit{col})$ è¿›è¡Œä¸Šè¿°çš„åŸåœ°äº¤æ¢æ“ä½œå‘¢ï¼Ÿç”±äºæ¯ä¸€æ¬¡åŸåœ°äº¤æ¢å››ä¸ªä½ç½®ï¼Œå› æ­¤ï¼š\n\n- å½“ $n$ ä¸ºå¶æ•°æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æšä¸¾ $n^2 / 4 = (n/2) \\times (n/2)$ ä¸ªä½ç½®ï¼Œå¯ä»¥å°†è¯¥å›¾å½¢åˆ†ä¸ºå››å—ï¼Œä»¥ $4 \\times 4$ çš„çŸ©é˜µä¸ºä¾‹ï¼š\n\n![1.png](https://pic.leetcode-cn.com/1608308530-Xingyv-1.png){:width=\"80%\"}\n\nä¿è¯äº†ä¸é‡å¤ã€ä¸é—æ¼ï¼›\n\n- å½“ $n$ ä¸ºå¥‡æ•°æ—¶ï¼Œç”±äºä¸­å¿ƒçš„ä½ç½®ç»è¿‡æ—‹è½¬åä½ç½®ä¸å˜ï¼Œæˆ‘ä»¬éœ€è¦æšä¸¾ $(n^2-1) / 4 = ((n-1)/2) \\times ((n+1)/2)$ ä¸ªä½ç½®ï¼Œéœ€è¦æ¢ä¸€ç§åˆ’åˆ†çš„æ–¹å¼ï¼Œä»¥ $5 \\times 5$ çš„çŸ©é˜µä¸ºä¾‹ï¼š\n\n![2.png](https://pic.leetcode-cn.com/1608308534-KjMVCn-2.png){:width=\"80%\"}\n\nåŒæ ·ä¿è¯äº†ä¸é‡å¤ã€ä¸é—æ¼ï¼ŒçŸ©é˜µæ­£ä¸­å¤®çš„ç‚¹æ— éœ€æ—‹è½¬ã€‚\n\n```C++ [sol2-C++]\nclass Solution {\npublic:\n    void rotate(vector<vector<int>>& matrix) {\n        int n = matrix.size();\n        for (int i = 0; i < n / 2; ++i) {\n            for (int j = 0; j < (n + 1) / 2; ++j) {\n                int temp = matrix[i][j];\n                matrix[i][j] = matrix[n - j - 1][i];\n                matrix[n - j - 1][i] = matrix[n - i - 1][n - j - 1];\n                matrix[n - i - 1][n - j - 1] = matrix[j][n - i - 1];\n                matrix[j][n - i - 1] = temp;\n            }\n        }\n    }\n};\n```\n\n```C++ [sol2-C++17]\nclass Solution {\npublic:\n    void rotate(vector<vector<int>>& matrix) {\n        int n = matrix.size();\n        for (int i = 0; i < n / 2; ++i) {\n            for (int j = 0; j < (n + 1) / 2; ++j) {\n                tie(matrix[i][j], matrix[n - j - 1][i], matrix[n - i - 1][n - j - 1], matrix[j][n - i - 1]) \\\n                    = make_tuple(matrix[n - j - 1][i], matrix[n - i - 1][n - j - 1], matrix[j][n - i - 1], matrix[i][j]);\n            }\n        }\n    }\n};\n```\n\n```Java [sol2-Java]\nclass Solution {\n    public void rotate(int[][] matrix) {\n        int n = matrix.length;\n        for (int i = 0; i < n / 2; ++i) {\n            for (int j = 0; j < (n + 1) / 2; ++j) {\n                int temp = matrix[i][j];\n                matrix[i][j] = matrix[n - j - 1][i];\n                matrix[n - j - 1][i] = matrix[n - i - 1][n - j - 1];\n                matrix[n - i - 1][n - j - 1] = matrix[j][n - i - 1];\n                matrix[j][n - i - 1] = temp;\n            }\n        }\n    }\n}\n```\n\n```Python [sol2-Python3]\nclass Solution:\n    def rotate(self, matrix: List[List[int]]) -> None:\n        n = len(matrix)\n        for i in range(n // 2):\n            for j in range((n + 1) // 2):\n                matrix[i][j], matrix[n - j - 1][i], matrix[n - i - 1][n - j - 1], matrix[j][n - i - 1] \\\n                    = matrix[n - j - 1][i], matrix[n - i - 1][n - j - 1], matrix[j][n - i - 1], matrix[i][j]\n```\n\n```JavaScript [sol2-JavaScript]\nvar rotate = function(matrix) {\n    const n = matrix.length;\n    for (let i = 0; i < Math.floor(n / 2); ++i) {\n        for (let j = 0; j < Math.floor((n + 1) / 2); ++j) {\n            const temp = matrix[i][j];\n            matrix[i][j] = matrix[n - j - 1][i];\n            matrix[n - j - 1][i] = matrix[n - i - 1][n - j - 1];\n            matrix[n - i - 1][n - j - 1] = matrix[j][n - i - 1];\n            matrix[j][n - i - 1] = temp;\n        }\n    }\n};\n```\n\n```Go [sol2-Golang]\nfunc rotate(matrix [][]int) {\n    n := len(matrix)\n    for i := 0; i < n/2; i++ {\n        for j := 0; j < (n+1)/2; j++ {\n            matrix[i][j], matrix[n-j-1][i], matrix[n-i-1][n-j-1], matrix[j][n-i-1] =\n                matrix[n-j-1][i], matrix[n-i-1][n-j-1], matrix[j][n-i-1], matrix[i][j]\n        }\n    }\n}\n```\n\n```C [sol2-C]\nvoid rotate(int** matrix, int matrixSize, int* matrixColSize) {\n    for (int i = 0; i < matrixSize / 2; ++i) {\n        for (int j = 0; j < (matrixSize + 1) / 2; ++j) {\n            int temp = matrix[i][j];\n            matrix[i][j] = matrix[matrixSize - j - 1][i];\n            matrix[matrixSize - j - 1][i] = matrix[matrixSize - i - 1][matrixSize - j - 1];\n            matrix[matrixSize - i - 1][matrixSize - j - 1] = matrix[j][matrixSize - i - 1];\n            matrix[j][matrixSize - i - 1] = temp;\n        }\n    }\n}\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œå…¶ä¸­ $N$ æ˜¯ $\\textit{matrix}$ çš„è¾¹é•¿ã€‚æˆ‘ä»¬éœ€è¦æšä¸¾çš„å­çŸ©é˜µå¤§å°ä¸º O($\\lfloor n/2 \\rfloor \\times \\lfloor (n+1)/2 \\rfloor) = O(N^2)$ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚ä¸ºåŸåœ°æ—‹è½¬ã€‚\n\n#### æ–¹æ³•ä¸‰ï¼šç”¨ç¿»è½¬ä»£æ›¿æ—‹è½¬\n\næˆ‘ä»¬è¿˜å¯ä»¥å¦è¾Ÿè¹Šå¾„ï¼Œç”¨ç¿»è½¬æ“ä½œä»£æ›¿æ—‹è½¬æ“ä½œã€‚æˆ‘ä»¬è¿˜æ˜¯ä»¥é¢˜ç›®ä¸­çš„ç¤ºä¾‹äºŒ\n\n$$\n\\begin{bmatrix}\n5 & 1 & 9 & 11 \\\\\n2 & 4 & 8 & 10 \\\\\n13 & 3 & 6 & 7 \\\\\n15 & 14 & 12 & 16\n\\end{bmatrix}\n$$\n\nä½œä¸ºä¾‹å­ï¼Œå…ˆå°†å…¶é€šè¿‡æ°´å¹³è½´ç¿»è½¬å¾—åˆ°ï¼š\n\n$$\n\\begin{bmatrix}\n5 & 1 & 9 & 11 \\\\\n2 & 4 & 8 & 10 \\\\\n13 & 3 & 6 & 7 \\\\\n15 & 14 & 12 & 16\n\\end{bmatrix}\n\\xRightarrow[]{æ°´å¹³ç¿»è½¬}\n\\begin{bmatrix}\n15 & 14 & 12 & 16 \\\\\n13 & 3 & 6 & 7 \\\\\n2 & 4 & 8 & 10 \\\\\n5 & 1 & 9 & 11\n\\end{bmatrix}\n$$\n\nå†æ ¹æ®ä¸»å¯¹è§’çº¿ç¿»è½¬å¾—åˆ°ï¼š\n\n$$\n\\begin{bmatrix}\n15 & 14 & 12 & 16 \\\\\n13 & 3 & 6 & 7 \\\\\n2 & 4 & 8 & 10 \\\\\n5 & 1 & 9 & 11\n\\end{bmatrix}\n\\xRightarrow[]{ä¸»å¯¹è§’çº¿ç¿»è½¬}\n\\begin{bmatrix}\n15 & 13 & 2 & 5 \\\\\n14 & 3 & 4 & 1 \\\\\n12 & 6 & 8 & 9 \\\\\n16 & 7 & 10 & 11\n\\end{bmatrix}\n$$\n\nå°±å¾—åˆ°äº†ç­”æ¡ˆã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¯¹äºæ°´å¹³è½´ç¿»è½¬è€Œè¨€ï¼Œæˆ‘ä»¬åªéœ€è¦æšä¸¾çŸ©é˜µä¸ŠåŠéƒ¨åˆ†çš„å…ƒç´ ï¼Œå’Œä¸‹åŠéƒ¨åˆ†çš„å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œå³\n\n$$\n\\textit{matrix}[\\textit{row}][\\textit{col}] \\xRightarrow[]{æ°´å¹³è½´ç¿»è½¬} \\textit{matrix}[n - \\textit{row} - 1][\\textit{col}]\n$$\n\nå¯¹äºä¸»å¯¹è§’çº¿ç¿»è½¬è€Œè¨€ï¼Œæˆ‘ä»¬åªéœ€è¦æšä¸¾å¯¹è§’çº¿å·¦ä¾§çš„å…ƒç´ ï¼Œå’Œå³ä¾§çš„å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œå³\n\n$$\n\\textit{matrix}[\\textit{row}][\\textit{col}] \\xRightarrow[]{ä¸»å¯¹è§’çº¿ç¿»è½¬} \\textit{matrix}[\\textit{col}][\\textit{row}]\n$$\n\nå°†å®ƒä»¬è”ç«‹å³å¯å¾—åˆ°ï¼š\n\n$$\n\\begin{aligned}\n\\textit{matrix}[\\textit{row}][\\textit{col}] & \\xRightarrow[]{æ°´å¹³è½´ç¿»è½¬} \\textit{matrix}[n - \\textit{row} - 1][\\textit{col}] \\\\\n&\\xRightarrow[]{ä¸»å¯¹è§’çº¿ç¿»è½¬} \\textit{matrix}[\\textit{col}][n - \\textit{row} - 1]\n\\end{aligned}\n$$\n\nå’Œæ–¹æ³•ä¸€ã€æ–¹æ³•äºŒä¸­çš„å…³é”®ç­‰å¼ï¼š\n\n$$\n\\textit{matrix}_\\textit{new}[\\textit{col}][n - \\textit{row} - 1] = \\textit{matrix}[\\textit{row}][\\textit{col}]\n$$\n\næ˜¯ä¸€è‡´çš„ã€‚\n\n```C++ [sol3-C++]\nclass Solution {\npublic:\n    void rotate(vector<vector<int>>& matrix) {\n        int n = matrix.size();\n        // æ°´å¹³ç¿»è½¬\n        for (int i = 0; i < n / 2; ++i) {\n            for (int j = 0; j < n; ++j) {\n                swap(matrix[i][j], matrix[n - i - 1][j]);\n            }\n        }\n        // ä¸»å¯¹è§’çº¿ç¿»è½¬\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < i; ++j) {\n                swap(matrix[i][j], matrix[j][i]);\n            }\n        }\n    }\n};\n```\n\n```Java [sol3-Java]\nclass Solution {\n    public void rotate(int[][] matrix) {\n        int n = matrix.length;\n        // æ°´å¹³ç¿»è½¬\n        for (int i = 0; i < n / 2; ++i) {\n            for (int j = 0; j < n; ++j) {\n                int temp = matrix[i][j];\n                matrix[i][j] = matrix[n - i - 1][j];\n                matrix[n - i - 1][j] = temp;\n            }\n        }\n        // ä¸»å¯¹è§’çº¿ç¿»è½¬\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < i; ++j) {\n                int temp = matrix[i][j];\n                matrix[i][j] = matrix[j][i];\n                matrix[j][i] = temp;\n            }\n        }\n    }\n}\n```\n\n```Python [sol3-Python3]\nclass Solution:\n    def rotate(self, matrix: List[List[int]]) -> None:\n        n = len(matrix)\n        # æ°´å¹³ç¿»è½¬\n        for i in range(n // 2):\n            for j in range(n):\n                matrix[i][j], matrix[n - i - 1][j] = matrix[n - i - 1][j], matrix[i][j]\n        # ä¸»å¯¹è§’çº¿ç¿»è½¬\n        for i in range(n):\n            for j in range(i):\n                matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j]\n```\n\n```JavaScript [sol3-JavaScript]\nvar rotate = function(matrix) {\n    const n = matrix.length;\n    // æ°´å¹³ç¿»è½¬\n    for (let i = 0; i < Math.floor(n / 2); i++) {\n        for (let j = 0; j < n; j++) {\n            [matrix[i][j], matrix[n - i - 1][j]] = [matrix[n - i - 1][j], matrix[i][j]];\n        }\n    }\n    // ä¸»å¯¹è§’çº¿ç¿»è½¬\n    for (let i = 0; i < n; i++) {\n        for (let j = 0; j < i; j++) {\n            [matrix[i][j], matrix[j][i]] = [matrix[j][i], matrix[i][j]];\n        }\n    }\n};\n```\n\n```Go [sol3-Golang]\nfunc rotate(matrix [][]int) {\n    n := len(matrix)\n    // æ°´å¹³ç¿»è½¬\n    for i := 0; i < n/2; i++ {\n        matrix[i], matrix[n-1-i] = matrix[n-1-i], matrix[i]\n    }\n    // ä¸»å¯¹è§’çº¿ç¿»è½¬\n    for i := 0; i < n; i++ {\n        for j := 0; j < i; j++ {\n            matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j]\n        }\n    }\n}\n```\n\n```C [sol3-C]\nvoid swap(int* a, int* b) {\n    int t = *a;\n    *a = *b, *b = t;\n}\n\nvoid rotate(int** matrix, int matrixSize, int* matrixColSize) {\n    // æ°´å¹³ç¿»è½¬\n    for (int i = 0; i < matrixSize / 2; ++i) {\n        for (int j = 0; j < matrixSize; ++j) {\n            swap(&matrix[i][j], &matrix[matrixSize - i - 1][j]);\n        }\n    }\n    // ä¸»å¯¹è§’çº¿ç¿»è½¬\n    for (int i = 0; i < matrixSize; ++i) {\n        for (int j = 0; j < i; ++j) {\n            swap(&matrix[i][j], &matrix[j][i]);\n        }\n    }\n}\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œå…¶ä¸­ $N$ æ˜¯ $\\textit{matrix}$ çš„è¾¹é•¿ã€‚å¯¹äºæ¯ä¸€æ¬¡ç¿»è½¬æ“ä½œï¼Œæˆ‘ä»¬éƒ½éœ€è¦æšä¸¾çŸ©é˜µä¸­ä¸€åŠçš„å…ƒç´ ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚ä¸ºåŸåœ°ç¿»è½¬å¾—åˆ°çš„åŸåœ°æ—‹è½¬ã€‚"
}